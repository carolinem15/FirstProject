<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>It's Raining Playlists</title>
    <script src="https://code.jquery.com/jquery.js"></script>
  </head>
  <body>
      <header class=container>
          <h1>It's Raining Playlists</h1>
      </header>
      <nav></nav>
      <div class=container>
          <div class=main>
            <form action="/action_page.php">
                <label for="genres">Genres (up to 3):</label><br><br>
                <input type="text" id="picsearch" name="genres" value="" class="genres"><br><br>
                <input type="text" id="genre2" name="genres" class="genres" value=""><br><br>
                <input type="text" id="genre3" name="genres" class="genres" value=""><br><br>
                <label for="years">Years Released (up to 3):</label><br><br>
                <input type="text" id="year1" name="years" value="" class="years"><br><br>
                <input type="text" id="year2" name="years" class="years" value=""><br><br>
                <input type="text" id="year3" name="years" class="years" value=""><br><br>
                <label for="artists">Artists (up to 3):</label><br><br>
                <input type="text" id="artist1" name="artists" class="artists" value=""><br><br>
                <input type="text" id="artist2" name="artists" class="artists" value=""><br><br>
                <input type="text" id="artist3" name="artists" class="artists" value=""><br><br>
              </form>
              <button id=create>Create Playlist</button>
          </div>
      </div>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js">
      </script>
      <script type=text/javascript>
     
    $(document).ready(function(){
       var input = "";
       
        $("#create").click(function(){
            alert("submit search");
           
            $("#picsearch").each(function () {
             $("#picsearch").text($(this).text());
              picture = $("#picsearch").val();
              console.log(picture);
            });
            $(".genres").each(function(){
              $(".genres").text($(this).text());
              genre2 = $("#genre2").val();
              console.log(genre2);
              genre3 = $("#genre3").val();
              console.log(genre3);
            })
            $(".years").each(function () {
              $(".years").text($(this).text());
              year1 = $("#year1").val();
              console.log(year1);
              year2 = $("#year2").val();
              console.log(year2);
              year3 = $("#year3").val();
              console.log(year3);
            });
            $(".artists").each(function (){
              $(".artists").text($(this).text());
              artist1 = $("#artist1").val();
              console.log(artist1);
              artist2 = $("#artist2").val();
              console.log(artist2);
              artist3 = $("#artist3").val();
              console.log(artist3);
            });
            //why is it console logging each variable 3 times?

            var giphy = "https://api.giphy.com/v1/gifs/search?q="
            var apiKey = "&api_key=PiLL4Mb9FVIRIrm1qyZ3q2rJ9FZnYREK&limit=1"
            giphyURL = giphy + picture + apiKey
            
            $.ajax({
              url: giphyURL
              
            }).then(function(response){
              console.log(response)
            })
        
            })
           

        });

  


    </script>
      <footer>
        <img src="giphy.png">
      </footer>
  </body>
</html>
